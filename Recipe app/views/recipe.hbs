<div class="container mt-5">
  {{> layout}}

  {{#if recipe}}
    <div class="card">
      <div class="card-header">
        <h2>{{recipe.title}}</h2>
      </div>
      <div class="card-body">
        <p>{{recipe.description}}</p>
        <h3>Ingredients</h3>
        <ul>
          {{#each recipe.ingredients}}
            <li>{{this}}</li>
          {{/each}}
        </ul>
        <h3>Steps</h3>
        <ol>
          {{#each recipe.steps}}
            <li>{{this}}</li>
          {{/each}}
        </ol>

        {{!-- <h3>Comments</h3>
        {{#if comments}}
          <ul>
            {{#each comments}}
              <li>
                <p>{{this.text}}</p>
                <small>Posted by {{this.author}} on {{dateFormat this.createdAt}}</small>
              </li>
            {{/each}}
          </ul>
        {{else}}
          <p>No comments yet.</p>
        {{/if}}

        {{#if user}}
          <h3>Add a comment</h3>
          <form method="post" action="/recipes/{{recipe.id}}/comments">
            <div>
              <label for="text">Comment:</label>
              <textarea id="text" name="text" required></textarea>
            </div>
            <button type="submit">Submit</button>
          </form>
        {{else}}
          <p>You must be logged in to leave a comment.</p>
        {{/if}} --}}
      </div>
    </div>
  {{else}}
    <p>Recipe not found.</p>
  {{/if}}
</div>
