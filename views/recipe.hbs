<div class="container mt-5">
  {{> layout}}

<div class="card">
    <div class="card-header">
      <h2>New Recipe</h2>
    </div>
    <div class="card-body">
      <form method="post" action="/recipes">
        <div class="form-group">
          <label for="title">Title:</label>
          <input type="text" id="title" name="title" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="description">Description:</label>
          <textarea id="description" name="description" class="form-control" required></textarea>
        </div>
        <div class="form-group">
          <label for="ingredients">Ingredients:</label>
          <textarea id="ingredients" name="ingredients" class="form-control" required></textarea>
        </div>
        <div class="form-group">
          <label for="steps">Steps:</label>
          <textarea id="steps" name="steps" class="form-control" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Create Recipe</button>
      </form>
    </div>
  </div>


  {{#if recipe}}
    <div class="card">
      <div class="card-header">
        <h2>{{recipe.title}}</h2>
      </div>
      <div class="card-body">
        <p>{{recipe.description}}</p>
        <h3>Ingredients</h3>
        <ul>
          {{#each recipe.ingredients}}
            <li>{{this}}</li>
          {{/each}}
        </ul>
        <h3>Steps</h3>
        <ol>
          {{#each recipe.steps}}
            <li>{{this}}</li>
          {{/each}}
        </ol>

        {{!-- <h3>Comments</h3>
        {{#if comments}}
          <ul>
            {{#each comments}}
              <li>
                <p>{{this.text}}</p>
                <small>Posted by {{this.author}} on {{dateFormat this.createdAt}}</small>
              </li>
            {{/each}}
          </ul>
        {{else}}
          <p>No comments yet.</p>
        {{/if}}

        {{#if user}}
          <h3>Add a comment</h3>
          <form method="post" action="/recipes/{{recipe.id}}/comments">
            <div>
              <label for="text">Comment:</label>
              <textarea id="text" name="text" required></textarea>
            </div>
            <button type="submit">Submit</button>
          </form>
        {{else}}
          <p>You must be logged in to leave a comment.</p>
        {{/if}} --}}
      </div>
    </div>
  {{else}}
    <p>Recipe not found.</p>
  {{/if}}
</div>

<script src="/js/recipe.js"></script>

{{! Path: Recipe app/views/layout.hbs }}